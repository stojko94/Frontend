import { Component } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { IPeople } from './people';
import { Observable } from 'rxjs/Observable';
import { Headers } from '@angular/http';


@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'app';
  
  people : IPeople[] = null;

  constructor(private http: HttpClient){

  }

  getPeople() : Observable<IPeople[]>{
    return this.http.get<IPeople[]>("http://localhost:8080/myDataBase/webresources/com.test.people1/");
  }

  addPeople() {
    var json = JSON.stringify({"adress":"Se탑ana","age":24,"city":"Se탑ana","id":5,"name":"Matej","state":"Slovenija","surname":"Tomazev"})
    var params = 'json=' + json;
    var headers = new HttpHeaders();
    headers.append('Content-Type','application/json;charset=utf-8');
    console.log(json);
    return this.http.post('http://localhost:8080/myDataBase/webresources/com.test.people1/',{"adress":"Se탑ana","age":24,"city":"Se탑ana","id":5,"name":"Matej","state":"Slovenija","surname":"Tomazev"});
  }

/*
  ngOnInit() : Observable<IPeople[]>{
    return this.http.get<IPeople[]>("http://localhost:8080/myDataBase/webresources/com.test.people1/")
    .map((response) => this.people = response);
  }
  */
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    